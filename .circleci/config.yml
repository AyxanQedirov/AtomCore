version: 2.1

jobs:
  job-1:
    docker:
      - image: mcr.microsoft.com/dotnet/sdk:8.0
    steps:
      - checkout 
      - run:
          name: Change directory
          command: cd Core
      - run:
          name: Packing the project
          command: dotnet pack
      - run:
          name: Push to NuGet
          command: dotnet nuget push Core/bin/Release/*.nupkg --api-key $NUGET_PUSBLISH_KEY

workflows:
  version: 2
  pipeline-1:
    jobs:
      - job-1